{% extends "base.html" %}
{% load static %}
{% block contentCSS %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet"> 

<link rel="stylesheet" href="{% static 'home/css/style.css' %}">
{% endblock  %}


<!-- ========== Start NAVBAR ========== -->
{% block nav %}
{% include "components/bar.html" %}


{% endblock  %}
<!-- ========== End NAVBAR ========== -->

{% block SECTION %}     



<!-- antes de cargarlos  -->
<!-- <div id="loading" class="container mt-5">
    <h2>Carrito de Compras</h2>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Producto</th>
                <th scope="col">Precio</th>
                <th scope="col">Cantidad</th>
                <th scope="col">Subtotal</th>
                <th scope="col">Acciones</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th class="placeholder-glow" scope="row">
                    <span class="placeholder col-12"></span>
                </th>
                <td class="placeholder-glow"><span class="placeholder col-12"></span></td>
                <td class="placeholder-glow"><span class="placeholder col-12"></span></td>
                <td class="placeholder-glow"><span class="placeholder col-12"></span></td>
                <td class="placeholder-glow"><span class="placeholder col-12"></span></td>
                <td class="placeholder-glow">
                    <button class="btn btn-sm btn-danger placeholder disabled"></button>
                </td>
            </tr>
            <tr>
                <th class="placeholder-glow" scope="row">
                    <span class="placeholder col-12"></span>
                </th>
                <td class="placeholder-glow"><span class="placeholder col-12"></span></td>
                <td class="placeholder-glow"><span class="placeholder col-12"></span></td>
                <td class="placeholder-glow"><span class="placeholder col-12"></span></td>
                <td class="placeholder-glow"><span class="placeholder col-12"></span></td>
                <td class="placeholder-glow">
                    <button class="btn btn-sm btn-danger placeholder disabled"></button>
                </td>
            </tr>
            <tr>
                <th class="placeholder-glow" scope="row">
                    <span class="placeholder col-12"></span>
                </th>
                <td class="placeholder-glow"><span class="placeholder col-12"></span></td>
                <td class="placeholder-glow"><span class="placeholder col-12"></span></td>
                <td class="placeholder-glow"><span class="placeholder col-12"></span></td>
                <td class="placeholder-glow"><span class="placeholder col-12"></span></td>
                <td class="placeholder-glow">
                    <button class="btn btn-sm btn-danger placeholder disabled"></button>
                </td>
            </tr>
            
        </tbody>
    </table>

    <div class="text-end">
        <p class="placeholder-glow">
            <span class="placeholder col-2"></span>
        </p>
        <button class="btn btn-primary disabled">Pagar</button>
    </div>
</div> -->


<div  id="loaded" class="container mt-5">
    <div class="row">
        <div class="col col-sm-12 col-md-6 col-lg-6 col-xl-6">
            <h2>Carrito de Compras</h2>

        </div>
        <div class="col col-sm-12 col-md-6 col-lg-6 col-xl-6">
            Usuario: {{ user.username }}
        </div>

    </div>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Producto</th>
                <th scope="col">Precio</th>
                <th scope="col">Cantidad</th>
                <th scope="col">Subtotal</th>
                <th scope="col">Acciones</th>
            </tr>
        </thead>
        <tbody>

            {% for item in items %}
            <tr>
                <th scope="row">1</th>
                <td>{{ item.product }}</td>
                <td>{{ item.product.price }}</td>
                <td>{{ item.quantity }}</td>
                <td>{{ item.subtotal }}</td>
                
                
                <td>

                    
                        <a class="btn btn-sm btn-outline-success" href="{% url 'addOneItemCart' item.product_id %}">
                            <i class="fas fa-plus"></i>
                            Añadir
                        </a>
                        <a class="btn btn-sm btn-outline-danger"  href="{% url 'deleteItemCart' item.product_id %}">
                            <i class="fas fa-trash-alt"></i>
                            Eliminar
                        </a>
                    
                </td>
            </tr>
            {% endfor %}
            
            <!-- Agrega más filas según sea necesario -->
        </tbody>
    </table>

    <div class="text-end">
        <p>Total: ${{ total }}</p>
        
        <a class="btn btn-outline-primary" href="{% url 'sendEmail' cart.user_id %}">Solicitar Pedido</a> 
        
    </div>
    
</div>



{% endblock  %}